# ğŸ¯ AI ê°ì²´ ê°ì§€ ë°ëª¨ ì‚¬ìš© ë°©ë²•

## âœ… ì¤€ë¹„ ì™„ë£Œ!

YOLO ëª¨ë¸ì´ ì„±ê³µì ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œë˜ê³  ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!

---

## ğŸš€ ë°”ë¡œ ì‚¬ìš©í•˜ê¸°

### 1ë‹¨ê³„: ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸

```bash
cd frontend
source venv/bin/activate
python app.py
```

### 2ë‹¨ê³„: ì›¹ ë¸Œë¼ìš°ì € ì—´ê¸°

ë‹¤ìŒ ì£¼ì†Œ ì¤‘ í•˜ë‚˜ë¡œ ì ‘ì†í•˜ì„¸ìš”:

```
http://localhost:5001/ai-demo
```

ë˜ëŠ”

```
http://localhost:5002/ai-demo
```

(í¬íŠ¸ëŠ” ìë™ìœ¼ë¡œ ì„ íƒë©ë‹ˆë‹¤)

---

## ğŸ“¸ ì‚¬ìš© ë°©ë²•

### í™”ë©´ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– ESP32-CAM AI ê°ì²´ ê°ì§€ ë°ëª¨                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ¯ ê°ì²´ ê°ì§€]  [ğŸ›£ï¸ ì°¨ì„  ê°ì§€]  [ğŸ” ì¢…í•© ë¶„ì„]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“¹ ë¶„ì„ ê²°ê³¼ ì´ë¯¸ì§€ â”‚  ğŸ“Š ë¶„ì„ ê²°ê³¼                  â”‚
â”‚                     â”‚                                â”‚
â”‚  [ì´ë¯¸ì§€ í‘œì‹œ]       â”‚  ì´ ê°ì§€ëœ ê°ì²´: 2ê°œ           â”‚
â”‚                     â”‚                                â”‚
â”‚                     â”‚  1. person                     â”‚
â”‚                     â”‚     ì‹ ë¢°ë„: 92.0%              â”‚
â”‚                     â”‚     Rect: (100,150)â†’(300,450)  â”‚
â”‚                     â”‚                                â”‚
â”‚                     â”‚  2. car                        â”‚
â”‚                     â”‚     ì‹ ë¢°ë„: 85.0%              â”‚
â”‚                     â”‚     Rect: (350,200)â†’(530,420)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë²„íŠ¼ ê¸°ëŠ¥

#### ğŸ¯ ê°ì²´ ê°ì§€
- ESP32-CAMì—ì„œ í˜„ì¬ ì´ë¯¸ì§€ ìº¡ì²˜
- YOLO ëª¨ë¸ë¡œ ê°ì²´ ê°ì§€
- ê°ì§€ëœ ê°ì²´ì˜ **Label**ê³¼ **Rect ì¢Œí‘œ** í‘œì‹œ

**ê²°ê³¼ ì˜ˆì‹œ:**
```
1. person
   ì‹ ë¢°ë„: 92.0%
   Rect ì¢Œí‘œ:
   x1: 100, y1: 150
   x2: 300, y2: 450
   
   BBox:
   x: 100, y: 150
   width: 200, height: 300
```

#### ğŸ›£ï¸ ì°¨ì„  ê°ì§€
- ë„ë¡œ ì°¨ì„  ì¸ì‹
- ì™¼ìª½/ì˜¤ë¥¸ìª½ ì°¨ì„  ìœ„ì¹˜ í‘œì‹œ
- ì¤‘ì‹¬ ì˜¤í”„ì…‹ ê³„ì‚° (ììœ¨ì£¼í–‰ìš©)

#### ğŸ” ì¢…í•© ë¶„ì„
- ê°ì²´ ê°ì§€ + ì°¨ì„  ê°ì§€ ë™ì‹œ ìˆ˜í–‰
- ëª¨ë“  ì •ë³´ë¥¼ í•œ ë²ˆì— í‘œì‹œ

---

## ğŸ¯ Rect ì¢Œí‘œ ì„¤ëª…

### ì¢Œí‘œ ì‹œìŠ¤í…œ

```
(0,0) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º X
 â”‚
 â”‚    (x1,y1) â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚            â”‚          â”‚
 â”‚            â”‚  ê°ì²´    â”‚
 â”‚            â”‚          â”‚
 â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ (x2,y2)
 â”‚
 â–¼
 Y
```

### ë°˜í™˜ë˜ëŠ” ì •ë³´

1. **rect** (ì‚¬ê°í˜• ì¢Œí‘œ)
   - `x1, y1`: ì¢Œìƒë‹¨ ì¢Œí‘œ
   - `x2, y2`: ìš°í•˜ë‹¨ ì¢Œí‘œ

2. **bbox** (Bounding Box)
   - `x, y`: ì‹œì‘ ìœ„ì¹˜ (ì¢Œìƒë‹¨)
   - `width`: ê°€ë¡œ ê¸¸ì´ (x2 - x1)
   - `height`: ì„¸ë¡œ ê¸¸ì´ (y2 - y1)

3. **label** (ê°ì²´ ì´ë¦„)
   - ì˜ˆ: person, car, dog, cat ë“±

4. **confidence** (ì‹ ë¢°ë„)
   - 0.0 ~ 1.0 (0% ~ 100%)

---

## ğŸ’» APIë¡œ ì§ì ‘ ì‚¬ìš©í•˜ê¸°

### JavaScript ì˜ˆì‹œ

```javascript
// ê°ì²´ ê°ì§€
async function detectObjects() {
    const response = await fetch('/api/ai/detect');
    const data = await response.json();
    
    console.log(`ì´ ${data.summary.total_objects}ê°œ ê°ì²´ ê°ì§€ë¨`);
    
    data.objects.forEach(obj => {
        console.log(`\n${obj.label}:`);
        console.log(`  ì‹ ë¢°ë„: ${(obj.confidence * 100).toFixed(1)}%`);
        console.log(`  Rect: (${obj.rect.x1}, ${obj.rect.y1}) â†’ (${obj.rect.x2}, ${obj.rect.y2})`);
        console.log(`  í¬ê¸°: ${obj.bbox.width} x ${obj.bbox.height}`);
    });
}

detectObjects();
```

### Python ì˜ˆì‹œ

```python
import requests

# ê°ì²´ ê°ì§€
response = requests.get('http://localhost:5001/api/ai/detect')
data = response.json()

print(f"ì´ {data['summary']['total_objects']}ê°œ ê°ì²´ ê°ì§€ë¨\n")

for i, obj in enumerate(data['objects'], 1):
    print(f"{i}. {obj['label']}")
    print(f"   ì‹ ë¢°ë„: {obj['confidence']:.2f}")
    print(f"   Rect: ({obj['rect']['x1']}, {obj['rect']['y1']}) â†’ ({obj['rect']['x2']}, {obj['rect']['y2']})")
    print(f"   í¬ê¸°: {obj['bbox']['width']} x {obj['bbox']['height']}\n")
```

### curl ì˜ˆì‹œ

```bash
# JSON ê²°ê³¼
curl http://localhost:5001/api/ai/detect

# ì´ë¯¸ì§€ ê²°ê³¼ (Bounding Box í‘œì‹œ)
curl http://localhost:5001/api/ai/detect?draw=true > result.jpg
open result.jpg  # Mac
```

---

## ğŸ”¥ ì‹¤ì „ í™œìš© ì˜ˆì‹œ

### 1. ì¥ì• ë¬¼ ê°ì§€ í›„ ì •ì§€

```python
import requests

# ê°ì²´ ê°ì§€
response = requests.get('http://localhost:5001/api/ai/detect')
data = response.json()

# ì „ë°© ì¤‘ì•™ì— ê°ì²´ê°€ ìˆëŠ”ì§€ í™•ì¸
for obj in data['objects']:
    center_x = (obj['rect']['x1'] + obj['rect']['x2']) / 2
    bottom_y = obj['rect']['y2']
    
    # ì´ë¯¸ì§€ ì¤‘ì•™ í•˜ë‹¨ (ìœ„í—˜ êµ¬ì—­)
    if 100 < center_x < 220 and bottom_y > 200:
        print(f"âš ï¸ ì¥ì• ë¬¼ ê°ì§€: {obj['label']}")
        # ESP32ì— ì •ì§€ ëª…ë ¹
        requests.get('http://192.168.0.65/control?cmd=stop')
        break
```

### 2. íŠ¹ì • ê°ì²´ ì¶”ì 

```python
# ì‚¬ëŒ ì°¾ê¸°
response = requests.get('http://localhost:5001/api/ai/detect')
data = response.json()

people = [obj for obj in data['objects'] if obj['label'] == 'person']

if people:
    print(f"ì‚¬ëŒ {len(people)}ëª… ê°ì§€ë¨")
    
    for person in people:
        x_center = (person['rect']['x1'] + person['rect']['x2']) / 2
        
        if x_center < 160:  # ì´ë¯¸ì§€ ì¤‘ì•™ ê¸°ì¤€ (320x240)
            print("â†’ ì‚¬ëŒì´ ì™¼ìª½ì— ìˆìŒ")
            requests.get('http://192.168.0.65/control?cmd=left')
        else:
            print("â† ì‚¬ëŒì´ ì˜¤ë¥¸ìª½ì— ìˆìŒ")
            requests.get('http://192.168.0.65/control?cmd=right')
```

### 3. ì˜ì—­ ê¸°ë°˜ ê°ì§€

```python
# ê´€ì‹¬ ì˜ì—­ (ROI) ì •ì˜
danger_zone = {
    'x1': 80, 'y1': 150,
    'x2': 240, 'y2': 240
}

def is_in_zone(rect, zone):
    """ê°ì²´ê°€ ì˜ì—­ ì•ˆì— ìˆëŠ”ì§€ í™•ì¸"""
    obj_center_x = (rect['x1'] + rect['x2']) / 2
    obj_center_y = (rect['y1'] + rect['y2']) / 2
    
    return (zone['x1'] <= obj_center_x <= zone['x2'] and
            zone['y1'] <= obj_center_y <= zone['y2'])

# ê°ì§€
response = requests.get('http://localhost:5001/api/ai/detect')
data = response.json()

dangerous_objects = [
    obj for obj in data['objects']
    if is_in_zone(obj['rect'], danger_zone)
]

if dangerous_objects:
    print(f"âš ï¸ ìœ„í—˜ êµ¬ì—­ì— {len(dangerous_objects)}ê°œ ê°ì²´!")
    for obj in dangerous_objects:
        print(f"  - {obj['label']} (ì‹ ë¢°ë„: {obj['confidence']:.2f})")
```

---

## ğŸ¨ ì§€ì›í•˜ëŠ” ê°ì²´ í´ë˜ìŠ¤

### êµí†µ ê´€ë ¨ (8ê°œ)
- person (ì‚¬ëŒ)
- bicycle (ìì „ê±°)
- car (ìë™ì°¨)
- motorcycle (ì˜¤í† ë°”ì´)
- bus (ë²„ìŠ¤)
- truck (íŠ¸ëŸ­)
- traffic light (ì‹ í˜¸ë“±)
- stop sign (ì •ì§€ í‘œì§€íŒ)

### ë™ë¬¼ (6ê°œ)
- bird, cat, dog, horse, sheep, cow

### ìƒí™œìš©í’ˆ (ë‹¤ìˆ˜)
- bottle, cup, chair, laptop, cell phone, book ë“±

**ì´ 80ê°œ í´ë˜ìŠ¤ ì§€ì›** (COCO Dataset)

---

## ğŸ“Š ì„±ëŠ¥ ì •ë³´

### ì²˜ë¦¬ ì†ë„
- **CPU**: 1-3ì´ˆ/ì´ë¯¸ì§€
- **GPU**: 0.1-0.5ì´ˆ/ì´ë¯¸ì§€

### ëª¨ë¸ í¬ê¸°
- **yolov8n.pt**: 6.2 MB (í˜„ì¬ ì‚¬ìš© ì¤‘)

### ì •í™•ë„
- ì¼ë°˜ì ì¸ ê°ì²´: 70-95%
- ì‘ì€ ê°ì²´: 50-70%

---

## ğŸ”§ ë¬¸ì œ í•´ê²°

### Q: ê°ì²´ê°€ ê°ì§€ë˜ì§€ ì•Šì•„ìš”
**A:** 
1. ì¡°ëª…ì„ ë°ê²Œ í•˜ì„¸ìš”
2. ì¹´ë©”ë¼ ê°ë„ë¥¼ ì¡°ì •í•˜ì„¸ìš”
3. ê°ì²´ê°€ í™”ë©´ ì¤‘ì•™ì— ì˜¤ë„ë¡ í•˜ì„¸ìš”

### Q: ë¶„ì„ì´ ëŠë ¤ìš”
**A:** ì •ìƒì…ë‹ˆë‹¤. CPUì—ì„œëŠ” 1-3ì´ˆê°€ ì†Œìš”ë©ë‹ˆë‹¤.

### Q: ì—‰ëš±í•œ ê²ƒì´ ê°ì§€ë¼ìš”
**A:** ì‹ ë¢°ë„(confidence)ë¥¼ í™•ì¸í•˜ì„¸ìš”. 70% ì´ìƒë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤.

---

## ğŸ“š ì¶”ê°€ ë¦¬ì†ŒìŠ¤

- **ìƒì„¸ ë¬¸ì„œ**: `AI_USAGE.md`
- **ë¹ ë¥¸ ì‹œì‘**: `AI_QUICK_START.md`
- **íŠ¸ëŸ¬ë¸”ìŠˆíŒ…**: `TROUBLESHOOTING.md`
- **ë°ëª¨ ê°€ì´ë“œ**: `AI_DEMO_GUIDE.md`

---

## ğŸ‰ ìš”ì•½

âœ… YOLO ëª¨ë¸ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ (`yolov8n.pt`)  
âœ… PyTorch 2.6+ í˜¸í™˜ ë¬¸ì œ í•´ê²°  
âœ… ì›¹ ë°ëª¨ í˜ì´ì§€ ì¤€ë¹„ ì™„ë£Œ  
âœ… API ì‚¬ìš© ê°€ëŠ¥  

**ì´ì œ ë°”ë¡œ ì‚¬ìš©í•˜ì„¸ìš”!**

```
ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ:
http://localhost:5001/ai-demo
```

---

**Happy Object Detection! ğŸ¤–ğŸ“¸**

